'use client';

import React, { forwardRef, HTMLAttributes } from 'react';
import { cn } from '@/lib/utils';
import { Skill } from '@/types';

// Real brand SVG icons for skills
const iconMap: Record<string, React.ReactNode> = {
  // Backend
  java: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#EA2D2E" d="M47.617 98.12s-4.767 2.774 3.397 3.71c9.892 1.13 14.947.968 25.845-1.092 0 0 2.871 1.795 6.873 3.351-24.439 10.47-55.308-.607-36.115-5.969zm-2.988-13.665s-5.348 3.959 2.823 4.805c10.567 1.091 18.91 1.18 33.354-1.6 0 0 1.993 2.025 5.132 3.131-29.542 8.64-62.446.68-41.309-6.336z"/>
      <path fill="#EA2D2E" d="M69.802 61.271c6.025 6.935-1.58 13.17-1.58 13.17s15.289-7.891 8.269-17.777c-6.559-9.215-11.587-13.792 15.635-29.58 0 .001-42.731 10.67-22.324 34.187z"/>
      <path fill="#EA2D2E" d="M102.123 108.229s3.529 2.91-3.888 5.159c-14.102 4.272-58.706 5.56-71.094.171-4.451-1.938 3.899-4.625 6.526-5.192 2.739-.593 4.303-.485 4.303-.485-4.953-3.487-32.013 6.85-13.743 9.815 49.821 8.076 90.817-3.637 77.896-9.468zM49.912 70.294s-22.686 5.389-8.033 7.348c6.188.828 18.518.638 30.011-.326 9.39-.789 18.813-2.474 18.813-2.474s-3.308 1.419-5.704 3.053c-23.042 6.061-67.544 3.238-54.731-2.958 10.832-5.239 19.644-4.643 19.644-4.643zm40.697 22.747c23.421-12.167 12.591-23.86 5.032-22.285-1.848.385-2.677.72-2.677.72s.688-1.079 2-1.543c14.953-5.255 26.451 15.503-4.823 23.725 0-.002.359-.327.468-.617z"/>
      <path fill="#EA2D2E" d="M76.491 1.587S89.459 14.563 64.188 34.51c-20.266 16.006-4.621 25.13-.007 35.559-11.831-10.673-20.509-20.07-14.688-28.815C58.041 28.42 81.722 22.195 76.491 1.587z"/>
      <path fill="#EA2D2E" d="M52.214 126.021c22.476 1.437 57-.8 57.817-11.436 0 0-1.571 4.032-18.577 7.231-19.186 3.612-42.854 3.191-56.887.874 0 .001 2.875 2.381 17.647 3.331z"/>
    </svg>
  ),
  api: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-green-500">
      <path d="M7 7H5a2 2 0 00-2 2v8a2 2 0 002 2h2m10-12h2a2 2 0 012 2v8a2 2 0 01-2 2h-2M8 7v10m8-10v10M12 7v10"/>
    </svg>
  ),
  microservices: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-purple-500">
      <path d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
    </svg>
  ),
  security: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-yellow-500">
      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
    </svg>
  ),
  // Databases
  postgresql: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#336791" d="M93.809 92.112c.785-6.533.55-7.492 5.416-6.433l1.235.108c3.742.17 8.637-.602 11.513-1.938 6.191-2.873 9.861-7.668 3.758-6.409-13.924 2.873-14.881-1.842-14.881-1.842 14.703-21.815 20.849-49.508 15.543-56.287-14.47-18.489-39.517-9.746-39.936-9.52l-.134.025c-2.751-.571-5.83-.912-9.289-.968-6.301-.104-11.082 1.652-14.535 4.41 0 0-44.683-18.409-42.604 23.151.442 8.841 12.672 66.898 27.26 49.362 5.332-6.412 10.484-11.834 10.484-11.834 2.558 1.699 5.622 2.567 8.834 2.255l.249-.212c-.078.796-.044 1.575.099 2.497-3.757 4.199-2.653 4.936-10.166 6.482-7.602 1.566-3.136 4.355-.221 5.084 3.535.884 11.712 2.136 17.238-5.598l-.22.882c1.474 1.18 1.375 8.477 1.583 13.69.208 5.214.558 10.079 1.621 12.948 1.063 2.868 2.317 10.256 12.191 8.14 8.252-1.764 14.561-4.309 15.136-27.985"/>
      <path fill="#fff" d="M75.458 125.256c-4.367 0-7.211-1.689-8.938-3.32-2.607-2.46-3.641-5.629-4.259-7.522l-.267-.79c-1.244-3.358-1.666-8.193-1.916-14.419-.038-.935-.064-1.898-.093-2.919-.066-2.38-.142-5.078-.396-8.161-.016-.198-.043-.397-.078-.596-.036.114-.073.227-.112.34l-.159.467c-2.72 7.824-3.209 8.238-6.834 9.874-1.437.648-3.741 1.504-6.917 1.504-3.539 0-7.269-1.062-10.293-3.939-4.543-4.323-5.416-8.645-5.416-8.645s-4.958 6.077-9.669 11.741c-4.711 5.664-9.669 4.711-9.669 4.711s-4.711-1.883-4.711-9.669c0-7.786 4.711-47.1 4.711-47.1s-4.711-28.26 14.134-28.26c18.845 0 28.26 9.416 28.26 9.416s9.416-9.416 28.26-9.416c18.845 0 14.134 28.26 14.134 28.26s4.711 39.314 4.711 47.1c0 7.786-4.711 9.669-4.711 9.669s-4.958 1.953-9.669-4.711c-4.711-5.664-9.669-11.741-9.669-11.741s-.873 4.322-5.416 8.645c-3.024 2.877-6.754 3.939-10.293 3.939z"/>
      <path fill="#336791" d="M115.731 77.44c-13.925 2.873-14.882-1.842-14.882-1.842 14.703-21.816 20.849-49.51 15.545-56.287C101.924.822 76.875 9.566 76.457 9.793l-.135.024c-2.751-.571-5.83-.911-9.291-.967-6.301-.105-11.08 1.652-14.535 4.41 0 0-44.683-18.409-42.604 23.151.442 8.842 12.672 66.899 27.26 49.363 5.332-6.412 10.483-11.834 10.483-11.834 2.559 1.699 5.622 2.567 8.833 2.255l.25-.212c-.078.796-.042 1.575.1 2.497-3.758 4.199-2.654 4.936-10.167 6.482-7.602 1.566-3.136 4.355-.22 5.084 3.534.884 11.712 2.136 17.237-5.598l-.221.882c1.473 1.18 2.507 7.672 2.334 13.557-.174 5.885-.29 9.926.871 13.082 1.16 3.156 2.316 10.256 12.192 8.14 8.252-1.768 12.528-6.351 13.124-13.995.422-5.435 1.377-4.631 1.438-9.49l.767-2.3c.884-7.367.14-9.743 5.225-8.638l1.235.108c3.742.17 8.639-.602 11.514-1.938 6.19-2.871 9.861-7.667 3.758-6.408z"/>
    </svg>
  ),
  mysql: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#00618A" d="M2.001 90.458h4.108v-16.223l6.36 14.143c.75 1.712 1.777 2.317 3.792 2.317s3.003-.605 3.753-2.317l6.36-14.143v16.223h4.108v-16.196c0-1.58-.632-2.345-1.936-2.739-3.121-.974-5.215-.131-6.163 1.976l-6.241 13.958-6.043-13.958c-.909-2.107-3.042-2.95-6.163-1.976-1.304.394-1.936 1.159-1.936 2.739v16.196zm32.459-10.399h10.141v-3.554h-10.141v-6.063h11.06v-3.554h-15.168v23.112h15.485v-3.554h-11.377v-6.387zm22.262-10.063c-4.108 0-6.954 1.027-8.692 2.186l1.541 3.16c1.58-.921 3.713-1.659 6.518-1.659 3.476 0 5.057 1.58 5.057 4.503v1.027c-1.58-.316-3.16-.474-4.898-.474-5.768 0-8.81 2.186-8.81 6.518 0 4.029 2.739 6.163 6.954 6.163 2.976 0 5.057-.921 6.754-2.66v2.265h3.95v-12.64c0-5.61-2.739-8.389-8.374-8.389zm4.424 14.195c0 2.739-2.186 4.898-5.768 4.898-2.344 0-3.95-1.185-3.95-3.318 0-2.344 1.659-3.634 5.293-3.634 1.58 0 3.16.158 4.424.474v1.58zm10.537 6.267h4.108v-13.879c1.58-2.186 3.713-3.318 6.163-3.318.711 0 1.343.079 1.896.237v-4.029c-2.66-.237-4.898.921-6.954 3.397v-3.002h-5.215v20.594zm18.487-20.594h-4.108v23.112h4.108v-23.112zm-2.054-3.95c1.58 0 2.739-1.159 2.739-2.66 0-1.58-1.159-2.739-2.739-2.739-1.58 0-2.739 1.159-2.739 2.739 0 1.501 1.159 2.66 2.739 2.66zm17.776 3.555c-2.976 0-5.057.921-6.754 2.66v-2.265h-3.95v20.594h4.108v-13.879c1.58-2.186 3.713-3.318 6.163-3.318 2.186 0 3.318 1.185 3.318 3.95v13.247h4.108v-13.879c0-4.74-2.344-7.11-6.993-7.11z"/>
      <path fill="#E48E00" d="M122.336 66.952c-2.186-.079-3.871.158-5.293.711-.395.158-1.027.158-1.106.632.237.237.237.553.395.869.316.553.869 1.264 1.343 1.659.553.474 1.106.948 1.659 1.343 1.027.711 2.186 1.106 3.16 1.817.553.395 1.106.869 1.659 1.264.237.237.474.553.711.711v-.079c-.158-.237-.237-.553-.395-.79-.316-.316-.632-.553-.948-.869-.948-.948-2.028-1.817-3.239-2.502-.948-.553-3.081-1.264-3.476-2.344l-.079-.079c.632-.079 1.422-.316 2.028-.474.948-.237 1.896-.158 2.897-.395.474-.158.948-.237 1.422-.395v-.237c-.553-.553-.948-1.264-1.501-1.817-1.501-1.422-3.16-2.818-4.898-3.95-1.027-.632-2.265-1.027-3.318-1.58-.395-.158-.948-.237-1.185-.553-.553-.632-.869-1.501-1.264-2.265-1.027-1.738-2.028-3.634-2.976-5.451-.711-1.264-1.106-2.502-1.896-3.713-3.713-5.768-7.742-9.244-13.958-12.667-1.343-.711-2.897-1.027-4.582-1.422l-2.66-.158c-.553-.237-1.106-.869-1.58-1.185-1.896-1.264-6.834-3.95-8.257-.395-1.027 2.265.948 4.503 1.58 5.689.553.869 1.264 1.817 1.659 2.739.237.632.316 1.264.553 1.896.474 1.501.869 3.16 1.501 4.582.316.711.711 1.422 1.106 2.107.237.395.632.553.711 1.106-.395.553-.395 1.422-.632 2.107-.948 3.081-.553 6.913.79 9.178.395.711 1.422 2.186 2.739 1.58 1.185-.474.948-2.107 1.264-3.476.079-.316.079-.553.158-.79v.079c.316.632.632 1.264.948 1.896.711 1.106 1.975 2.265 3.081 3.002.553.395.948.948 1.58 1.185v-.079h-.079c-.158-.237-.395-.395-.632-.553-.474-.474-1.027-.948-1.422-1.501-1.185-1.501-2.186-3.16-3.081-4.898-.474-.869-.869-1.817-1.264-2.66-.158-.316-.158-.553-.395-.79-.395.553-.948 1.106-1.264 1.738-.553 1.027-.632 2.265-.869 3.555-.079 0-.079 0-.158.079-.869-.237-1.106-.948-1.422-1.58-.79-1.58-.948-4.187-.237-6.004.158-.474.869-1.975.553-2.423-.158-.474-.632-.711-.869-1.106-.316-.474-.632-1.106-.869-1.659-.553-1.422-.869-2.976-1.422-4.424-.237-.711-.632-1.422-1.027-2.107-.395-.79-.869-1.343-1.185-2.265-.079-.316-.237-.79-.079-1.106.079-.237.079-.316.237-.395.158-.237.632-.316.869-.395.474-.158 1.027-.079 1.501-.079.79.158 1.501.237 2.186.553.316.158.632.474.948.553h.395c.632.158 1.264.079 1.817.316 1.027.395 1.975.869 2.818 1.422 2.581 1.659 4.74 4.029 6.163 6.834.237.474.316.869.553 1.343.395 1.027.948 2.028 1.343 3.002.395 1.027.79 2.028 1.343 2.897.316.474.79.711 1.185 1.106.316.316.632.711 1.027.948.316.237.711.316 1.027.553.158.079.395.237.553.316v-.079c-.237-.158-.316-.395-.474-.553-.237-.237-.474-.395-.711-.632-.316-.316-.711-.632-.948-1.027-1.027-1.185-1.896-2.502-2.66-3.95-.395-.711-.711-1.501-1.027-2.265-.158-.316-.158-.553-.316-.869-.316-.632-.711-1.264-.948-1.896-.316-.711-.632-1.422-1.027-2.028-.237-.316-.632-.474-.948-.711-.237-.158-.632-.237-.869-.474v-.079h.079c.158 0 .316.079.474.079.395.158.79.237 1.106.474.316.158.632.395.948.553.158.158.395.237.553.474 1.027.632 1.896 1.501 2.739 2.344.474.474.869 1.027 1.343 1.501.237.237.395.553.632.79.395.553.869 1.027 1.185 1.58.158.316.316.553.474.869.079.158.237.316.316.474.079.079.079.158.158.237.079.079.158.079.158.158v-.079c-.079-.158-.079-.316-.158-.474-.079-.158-.158-.316-.237-.474-.158-.316-.316-.632-.553-.948-.237-.395-.553-.79-.79-1.185-.553-.711-1.185-1.422-1.738-2.186-.316-.395-.632-.711-.948-1.106-.158-.158-.316-.395-.474-.553-.158-.237-.395-.395-.553-.632.079 0 .079-.079.158-.079.237.079.474.237.632.395.316.158.632.395.948.553.632.395 1.185.869 1.738 1.343.869.79 1.738 1.659 2.502 2.581.395.474.79.948 1.106 1.422.158.237.395.474.474.711.237.316.395.632.632.948.079.158.237.316.316.553.079.079.079.158.158.237.079.079.158.079.158.158v-.079c-.079-.158-.079-.316-.158-.474-.079-.158-.158-.316-.237-.474-.158-.316-.316-.632-.553-.948-.237-.395-.553-.79-.79-1.185-.553-.711-1.185-1.422-1.738-2.186-.316-.395-.632-.711-.948-1.106-.158-.158-.316-.395-.474-.553-.158-.237-.395-.395-.553-.632.079 0 .079-.079.158-.079.237.079.474.237.632.395.316.158.632.395.948.553.632.395 1.185.869 1.738 1.343.869.79 1.738 1.659 2.502 2.581.395.474.79.948 1.106 1.422.158.237.395.474.474.711.237.316.395.632.632.948.079.158.237.316.316.553z"/>
    </svg>
  ),
  redis: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#A41E11" d="M121.8 93.1c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 98.1 6.3 94.9c-3.3-1.6-5.1-2.9-5.1-4.2V75.9s48-10.5 55.8-13.2c7.8-2.8 10.4-2.9 17-.5s46.1 9.5 52.8 11.6v14.8c0 1.3-1.5 2.7-5 4.5z"/>
      <path fill="#D82C20" d="M121.8 78.3c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 83.3 6.3 80.1c-6.7-3.2-6.9-5.4-.2-7.8 6.7-2.4 44.4-17.3 52.2-20s10.4-2.9 17-.5 39.4 15.7 46.1 17.8c6.7 2.1 7.1 5.2.4 8.7z"/>
      <path fill="#A41E11" d="M121.8 71.1c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 76.1 6.3 72.9c-3.3-1.6-5.1-2.9-5.1-4.2V53.9s48-10.5 55.8-13.2c7.8-2.8 10.4-2.9 17-.5s46.1 9.5 52.8 11.6v14.8c0 1.3-1.5 2.7-5 4.5z"/>
      <path fill="#D82C20" d="M121.8 56.3c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 61.3 6.3 58.1c-6.7-3.2-6.9-5.4-.2-7.8 6.7-2.4 44.4-17.3 52.2-20s10.4-2.9 17-.5 39.4 15.7 46.1 17.8c6.7 2.1 7.1 5.2.4 8.7z"/>
      <path fill="#A41E11" d="M121.8 49.1c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 54.1 6.3 50.9c-3.3-1.6-5.1-2.9-5.1-4.2V31.9s48-10.5 55.8-13.2c7.8-2.8 10.4-2.9 17-.5s46.1 9.5 52.8 11.6v14.8c0 1.3-1.5 2.7-5 4.5z"/>
      <path fill="#D82C20" d="M121.8 34.3c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 39.3 6.3 36.1c-6.7-3.2-6.9-5.4-.2-7.8C12.8 25.9 50.5 11 58.3 8.3s10.4-2.9 17-.5 39.4 15.7 46.1 17.8c6.7 2.1 7.1 5.2.4 8.7z"/>
    </svg>
  ),

  // System Design
  cache: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-orange-500">
      <path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
    </svg>
  ),
  loadbalancer: (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className="w-4 h-4 text-blue-400">
      <path d="M12 2v6m0 8v6M4.93 4.93l4.24 4.24m5.66 5.66l4.24 4.24M2 12h6m8 0h6M4.93 19.07l4.24-4.24m5.66-5.66l4.24-4.24"/>
    </svg>
  ),
  messaging: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#231F20" d="M64.142 101.786c-26.344 0-47.786-17.893-47.786-39.893 0-21.999 21.442-39.893 47.786-39.893 26.343 0 47.785 17.894 47.785 39.893 0 21.999-21.442 39.893-47.785 39.893zm0-74.786c-23.243 0-42.786 15.663-42.786 34.893s19.543 34.893 42.786 34.893c23.242 0 42.785-15.663 42.785-34.893S87.384 27 64.142 27z"/>
      <path fill="#231F20" d="M95.071 106.214l-8.536-14.786c-6.526 3.76-14.166 5.929-22.393 5.929-8.227 0-15.867-2.169-22.393-5.929l-8.536 14.786c9.143 5.286 19.786 8.286 30.929 8.286s21.786-3 30.929-8.286z"/>
    </svg>
  ),
  observability: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-cyan-400">
      <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
    </svg>
  ),
  // DevOps
  docker: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fillRule="evenodd" clipRule="evenodd" fill="#3A4D54" d="M73.8 50.8h11.3v11.5h5.7c2.6 0 5.3-.5 7.8-1.3 1.2-.4 2.6-1 3.8-1.7-1.6-2.1-2.4-4.7-2.6-7.3-.3-3.5.4-8.1 2.8-10.8l1.2-1.4 1.4 1.1c3.6 2.9 6.5 6.8 7.1 11.4 4.3-1.3 9.3-1 13.1 1.2l1.5.9-.8 1.6c-3.2 6.2-9.9 8.2-16.4 7.8-9.8 24.3-31 35.8-56.8 35.8-13.3 0-25.5-5-32.5-16.8l-.1-.2-1-2.1c-2.4-5.2-3.1-10.9-2.6-16.6l.2-1.7h9.6V50.8h11.3V39.6h22.5V28.3h13.5v22.5z"/>
      <path fill="#00AADA" d="M110.4 55.1c.8-5.9-3.6-10.5-6.4-12.7-3.1 3.6-3.6 13.2 1.3 17.2-2.8 2.4-8.5 4.7-14.5 4.7H18.6c-.6 6.2.5 12.5 3.4 18.1l.4.8c6.5 11.5 18.3 15.4 30.9 15.4 27.3 0 47.2-12.5 56.5-39.2 5.7.6 12.2-.2 15.2-5.4-3.3-1.8-8.4-2.5-13.6-1.1-.5.1-1 .2-1 .2z"/>
      <path fill="#28B8EB" d="M110.4 55.1c.8-5.9-3.6-10.5-6.4-12.7-3.1 3.6-3.6 13.2 1.3 17.2-2.8 2.4-8.5 4.7-14.5 4.7h-68c-.3 3.5 0 7 .9 10.5h67.1c5.7.6 12.2-.2 15.2-5.4-3.3-1.8-8.4-2.5-13.6-1.1-.5.1-1 .2-1 .2 6.5-.2 13.2-2.1 16.4-7.8l.8-1.6-1.5-.9c-1.3-.7-2.7-1.2-4.2-1.5 2.5-1.1 5.1-1.6 7.5-1.6z"/>
      <path fill="#028BB8" d="M18.7 71.8c.4 3.5 1.2 6.8 2.7 9.9l.4.8c6.5 11.5 18.3 15.4 30.9 15.4 27.3 0 47.2-12.5 56.5-39.2H18.6c-.1 4.5.1 8.9.1 13.1z"/>
      <path fill="#019BC6" d="M23.5 71.8c1.3 5.8 4 11 8.6 15.1 9.5 8.5 23.1 11 35.6 11 27.3 0 47.2-12.5 56.5-39.2H23.3c0 4.5.1 8.8.2 13.1z"/>
      <path fill="#00ACD3" d="M28.6 50.8h11.3v11.3H28.6zm0-11.2h11.3v11.3H28.6z"/>
      <path fill="#23C2EE" d="M39.9 50.8h11.3v11.3H39.9zm0-11.2h11.3v11.3H39.9zm0-11.3h11.3v11.3H39.9z"/>
      <path fill="#00ACD3" d="M51.2 50.8h11.3v11.3H51.2zm0-11.2h11.3v11.3H51.2z"/>
      <path fill="#23C2EE" d="M62.5 50.8h11.3v11.3H62.5zm0-11.2h11.3v11.3H62.5zm0-11.3h11.3v11.3H62.5z"/>
      <path fill="#00ACD3" d="M73.8 50.8h11.3v11.3H73.8z"/>
      <path fill="#D4EEF1" d="M39.9 50.8h11.3v11.3H39.9zm22.6 0h11.3v11.3H62.5z"/>
      <path fill="#BDDCE0" d="M51.2 50.8h11.3v11.3H51.2z"/>
      <path fill="#D4EEF1" d="M51.2 39.6h11.3v11.3H51.2z"/>
      <path fill="#BDDCE0" d="M39.9 39.6h11.3v11.3H39.9zm22.6 0h11.3v11.3H62.5z"/>
      <path fill="#D4EEF1" d="M39.9 28.3h11.3v11.3H39.9zm22.6 0h11.3v11.3H62.5z"/>
    </svg>
  ),

  cicd: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-green-400">
      <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
    </svg>
  ),
  aws: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#F7A80D" d="M38.089 77.466l-11.4 4.896 10.559 4.514 12.241-4.514-11.4-4.896zm-17.138 6.12l-.382 22.034 16.679 7.345V90.089l-16.297-6.503zm34.276 0l-15.073 5.739V110.9l15.073-6.121V83.586zm17.979-68.551L61.73 19.931l10.635 4.515 12.241-4.515-11.402-4.896zm-15.914 6.503v22.034l14.231 4.132.459-20.046-14.69-6.12zm31.828 1.224L75.66 28.5v21.652l13.46-5.357V22.762z"/>
      <path fill="#F7A80D" d="M73.206 15.035l-11.4 4.896 10.558 4.515 12.241-4.515-11.399-4.896zm-17.139 6.121l-.382 22.034 16.679 7.345V27.659l-16.297-6.503zm34.276 0l-15.073 5.738v21.576l15.073-6.121V21.156zm-55.415 32.87l-11.4 4.896 10.559 4.514 12.241-4.514-11.4-4.896zm-17.139 6.121l-.382 22.034 16.679 7.344V66.65l-16.297-6.503zm34.276 0L36.992 65.886v21.575l15.073-6.121V60.147z"/>
      <path fill="#F7A80D" d="M38.089 46.129l-11.4 4.896 10.559 4.515 12.241-4.515-11.4-4.896zm-17.138 6.121l-.382 22.034 16.679 7.345V58.753l-16.297-6.503zm34.276 0l-15.073 5.739v21.575l15.073-6.121V52.25z"/>
    </svg>
  ),
  // Jenkins logo
  jenkins: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#D33833" d="M64.012 1.536c-34.545 0-62.549 28.004-62.549 62.549 0 34.545 28.004 62.549 62.549 62.549 34.545 0 62.549-28.004 62.549-62.549 0-34.545-28.004-62.549-62.549-62.549z"/>
      <path fill="#EF3D3A" d="M64.012 8.136c-30.871 0-55.949 25.078-55.949 55.949s25.078 55.949 55.949 55.949 55.949-25.078 55.949-55.949-25.078-55.949-55.949-55.949z"/>
      <path fill="#231F20" d="M89.681 78.624c-.553-1.106-1.659-1.659-2.765-1.659h-5.53c-.553 0-1.106.553-1.106 1.106v11.06c0 .553.553 1.106 1.106 1.106h5.53c1.106 0 2.212-.553 2.765-1.659l2.765-5.53c.553-.553.553-1.659 0-2.212l-2.765-2.212z"/>
      <path fill="#F0D6B7" d="M64.012 24.726c-21.979 0-39.859 17.88-39.859 39.859 0 21.979 17.88 39.859 39.859 39.859 21.979 0 39.859-17.88 39.859-39.859 0-21.979-17.88-39.859-39.859-39.859z"/>
      <path fill="#335061" d="M64.012 31.326c-18.433 0-33.259 14.826-33.259 33.259s14.826 33.259 33.259 33.259 33.259-14.826 33.259-33.259-14.826-33.259-33.259-33.259z"/>
      <path fill="#6D6B6D" d="M64.012 37.926c-14.826 0-26.659 11.833-26.659 26.659s11.833 26.659 26.659 26.659 26.659-11.833 26.659-26.659-11.833-26.659-26.659-26.659z"/>
      <path fill="#DCDCDC" d="M64.012 44.526c-11.06 0-20.059 8.999-20.059 20.059s8.999 20.059 20.059 20.059 20.059-8.999 20.059-20.059-8.999-20.059-20.059-20.059z"/>
      <path fill="#231F20" d="M64.012 51.126c-7.453 0-13.459 6.006-13.459 13.459s6.006 13.459 13.459 13.459 13.459-6.006 13.459-13.459-6.006-13.459-13.459-13.459z"/>
    </svg>
  ),
  // Kubernetes logo
  kubernetes: (
    <svg viewBox="0 0 128 128" className="w-4 h-4">
      <path fill="#326CE5" d="M64 1.6c-1.5 0-2.9.3-4.2.9L16.4 24.2c-2.7 1.2-4.7 3.6-5.5 6.5L.5 79.5c-.8 2.9-.3 6 1.4 8.5l32.3 46.3c1.7 2.5 4.4 4.1 7.4 4.4l54.8 5.7c3 .3 6-.7 8.2-2.8l40.3-38.8c2.2-2.1 3.4-5.1 3.3-8.1l-2.5-55.2c-.1-3-.1.5-5.2-6.1L91.8 4.5c-2-2.3-4.9-3.6-7.9-3.5L64 1.6z"/>
      <path fill="#fff" d="M64 17.6c-1.1 0-2.1.8-2.3 1.9l-3.3 21.5c-4.8.8-9.3 2.5-13.3 5l-17.8-12.5c-1-.7-2.3-.5-3 .4l-.1.1c-.7.9-.6 2.2.3 3l14.5 15.8c-2.8 4-4.8 8.6-5.7 13.5l-21.3 3.3c-1.1.2-1.9 1.2-1.9 2.3v.1c0 1.1.8 2.1 1.9 2.3l21.3 3.3c.9 4.9 2.9 9.5 5.7 13.5L24.5 106c-.9.8-1 2.1-.3 3l.1.1c.7.9 2 1.1 3 .4l17.8-12.5c4 2.5 8.5 4.2 13.3 5l3.3 21.5c.2 1.1 1.2 1.9 2.3 1.9h.1c1.1 0 2.1-.8 2.3-1.9l3.3-21.5c4.8-.8 9.3-2.5 13.3-5l17.8 12.5c1 .7 2.3.5 3-.4l.1-.1c.7-.9.6-2.2-.3-3l-14.5-15.8c2.8-4 4.8-8.6 5.7-13.5l21.3-3.3c1.1-.2 1.9-1.2 1.9-2.3v-.1c0-1.1-.8-2.1-1.9-2.3l-21.3-3.3c-.9-4.9-2.9-9.5-5.7-13.5l14.5-15.8c.9-.8 1-2.1.3-3l-.1-.1c-.7-.9-2-1.1-3-.4L83.6 46c-4-2.5-8.5-4.2-13.3-5l-3.3-21.5c-.2-1.1-1.2-1.9-2.3-1.9h-.1zM64 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/>
    </svg>
  ),
};

const defaultIcon = (
  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4 text-accent-blue">
    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
  </svg>
);

export interface SkillBadgeProps extends HTMLAttributes<HTMLDivElement> {
  skill: Skill;
  showProficiency?: boolean;
  size?: 'sm' | 'md' | 'lg';
}

const sizeStyles = {
  sm: 'px-2.5 py-1.5 text-xs gap-1.5',
  md: 'px-3 py-2 text-sm gap-2',
  lg: 'px-4 py-2.5 text-base gap-2.5',
};

const getProficiencyColor = (proficiency: number): string => {
  if (proficiency >= 90) return 'from-accent-cyan to-accent-green';
  if (proficiency >= 80) return 'from-accent-blue to-accent-cyan';
  if (proficiency >= 70) return 'from-accent-purple to-accent-blue';
  return 'from-accent-pink to-accent-purple';
};

export const SkillBadge = forwardRef<HTMLDivElement, SkillBadgeProps>(
  (
    {
      skill,
      showProficiency = true,
      size = 'md',
      className,
      ...props
    },
    ref
  ) => {
    const icon = iconMap[skill.icon] || defaultIcon;

    return (
      <div
        ref={ref}
        className={cn(
          'group inline-flex items-center rounded-xl bg-bg-tertiary/50 border border-border-subtle',
          'transition-all duration-300 hover:border-accent-blue/30 hover:bg-bg-tertiary',
          'hover:shadow-lg hover:shadow-accent-blue/5',
          sizeStyles[size],
          className
        )}
        role="listitem"
        aria-label={`${skill.name}, proficiency ${skill.proficiency}%`}
        {...props}
      >
        <span className="flex-shrink-0" aria-hidden="true">
          {icon}
        </span>
        <span className="text-text-primary font-medium whitespace-nowrap">
          {skill.name}
        </span>
        {showProficiency && (
          <div className="flex items-center gap-1.5 ml-1" aria-hidden="true">
            <div className="w-14 h-1.5 bg-bg-primary rounded-full overflow-hidden">
              <div
                className={cn(
                  'h-full rounded-full bg-gradient-to-r transition-all duration-500',
                  getProficiencyColor(skill.proficiency)
                )}
                style={{ width: `${skill.proficiency}%` }}
              />
            </div>
            <span className="text-xs text-text-muted font-mono">
              {skill.proficiency}%
            </span>
          </div>
        )}
      </div>
    );
  }
);

SkillBadge.displayName = 'SkillBadge';

export default SkillBadge;